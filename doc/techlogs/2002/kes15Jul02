              Technical notes on version 1.23 15Jul02
                      15 July 2002
                       Kern Sibbald

General:
- Moved techlogs from main directory to be subdirectory of doc
- Added code for strerror_r, and detection of gethostbyname_r().
- The protocol between the Director and the SD has changed.
- Major rework of SD tape mounting to prepare for Changer commands.

Changes submitted this submission:
- Separated Update Media record and Create JobMedia record. These
  are done from the SD by calling the Director. Need separate Create
  JobMedia so that when a Job spans a volume, all other Jobs writing
  the same volume will also have JobMedia records created.
- Added message to user indicating selection aborted if he enters .
  to a Console selection request.
- Create a jobstatus_to_ascii() routine for use in status commands.
  This makes a single routine from three separate pieces of code.
  Updated the code to properly handle more (all) termination statuses.
- Tried to fix the gnome-console to handle history a bit better. There
  are still some problems with focus not being properly set to the edit
  box after history replacement.
- Removed the shutdown() from bnet_close() hoping to fix Console termination
  errors that are occassionally seen -- no luck.
- Moved add_str() to lib/util and renamed it add_str_to_pool_mem() so that
  it can be used to edit Job termination codes and Changer command codes.
- Reworked how the SD mounts tapes (in device.c) so that control passes through
  only a single routine. The logic is much simpler than previously, and now
  adding AutoChanger code is straight forward.
- Made SD tape mounting much more fault tolerant -- more cases retry instead
  of terminating the Job.
- Wrote code to edit_device_codes() for Changer commands. Not yet fully     
  implemented.
- Added a ChangerDevice directive to the Device resource. Still need to add
  ChangerCommand.
